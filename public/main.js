(()=>{var e={481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/cross.png"},760:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/cross.svg"},686:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/down_arrow.svg"},797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/icons_sprite.png"},398:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/plus.svg"},120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o=r.p+"img/up_arrow.svg"},397:(e,t,r)=>{var o={"./cross.png":481,"./cross.svg":760,"./down_arrow.svg":686,"./icons_sprite.png":797,"./plus.svg":398,"./up_arrow.svg":120};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=n,e.exports=s,s.id=397},952:()=>{let e=document.querySelector(".settings-menu__theme-toggler"),t=document.querySelector(".settings-menu__toggler"),r=document.querySelector("#main_style");"dark"===localStorage.currentTheme&&(t.style.left="18px",setTimeout((()=>e.style.background="linear-gradient(to right, rgb(41, 223, 71) 70%, white 70%)"),30),r.href="./dark.css"),t.addEventListener("click",(function(){"-2px"===t.style.left?(t.style.left="18px",setTimeout((()=>e.style.background="linear-gradient(to right, rgb(41, 223, 71) 70%, white 70%)"),30),r.href="./dark.css",localStorage.currentTheme="dark"):(t.style.left="-2px",r.href="./light.css",setTimeout((()=>e.style.background="linear-gradient(to right, rgb(41, 223, 71) 30%, white 30%)"),30),localStorage.currentTheme="light")}))}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";r.p,r.p;let e,t=document.querySelector("body"),o=t.querySelector(".board"),s=t.querySelector(".clear-board"),n=t.querySelector(".add-card"),a=o.querySelector("#card-template").content.querySelector(".board-card"),l=o.querySelector("#task-template").content.querySelector(".board-card__item"),d=1,i=t.querySelector(".card-contents"),c=i.querySelector(".card-contents__text"),u=i.querySelector(".card-contents__submit-button"),f=i.querySelector(".card-contents__header-1"),y=i.querySelector(".card-contents__card-header"),p=[],g={width:"100%",height:"100%",position:"absolute",top:0,left:0,backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:50};class m{constructor(e){this.id=e.id,this.header=e.querySelector(".board-card__header").textContent,this.date=e.querySelector(".board-card__date").textContent,this.tasks=[],this.taskIds=[],this.markers=[],this.left="",this.top=""}}class v{constructor(){this.cardsFontSize="14px"}}new v;let S=new class extends v{constructor(){super()}};class h extends Error{constructor(e){super(e),this.name="NoTextError"}}function _(e){let t=e.querySelector(".board-card__list"),r=l.cloneNode(!0),o=r.querySelector(".board-card__task");r.taskId=e.tasksIdsCounter++,o.textContent=c.value,k(r,e),w(e,r),x(e,r),function(e,t){let r=t.querySelector(".board-card__circle").style.fill,o=t.querySelector(".board-card__task"),s=p.find((t=>t.id==e.id));s.tasks.push(o.textContent),s.markers.push(r),s.taskIds.push(t.taskId),localStorage.savedCards=JSON.stringify(p)}(e,r),t.appendChild(r),c.value=""}function b(e){e.querySelector(".board-card__add-task-button").addEventListener("click",(function(){$("new task",e)}))}function k(e,t){e.querySelector(".board-card__task-remover").addEventListener("click",(function(){let r=p.find((e=>e.id==t.id)),o=r.taskIds.indexOf(e.taskId);if(r.tasks.splice(o,1),r.markers.splice(o,1),r.taskIds.splice(o,1),localStorage.savedCards=JSON.stringify(p),e.remove(),!t.querySelector(".board-card__item")){for(let e of p)e.id==t.id&&(p.splice(p.indexOf(e),1),localStorage.savedCards=JSON.stringify(p));t.style.transform="scale(0)",setTimeout((()=>t.remove()),300)}}))}function w(e,t){let r=["limegreen","orange","red"],o=t.querySelector(".board-card__circle"),s=p.find((t=>t.id==e.id));o.addEventListener("click",(function(){2===r.indexOf(`${o.style.fill}`)?o.style.fill=r[0]:o.style.fill=r[r.indexOf(o.style.fill)+1];let e=s.taskIds.indexOf(t.taskId);s.markers[e]=o.style.fill,localStorage.savedCards=JSON.stringify(p)}))}function x(e,t){t.addEventListener("dblclick",(function(){let r=t.querySelector(".board-card__task"),o=document.createElement("textarea");var s;o.classList.add("board-card__task-editor"),o.value=r.textContent,o.rows=3,t.style.marginBottom="40px",function(e,t,r){let o=t.querySelector(".board-card__task"),s=p.find((t=>t.id==e.id));r.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),o.textContent=r.value,s.tasks[s.taskIds.indexOf(t.taskId)]=r.value,t.style.marginBottom=0,r.remove(),localStorage.savedCards=JSON.stringify(p))}))}(e,t,o),(s=o).addEventListener("focusout",(()=>s.focus())),t.appendChild(o),o.focus()}))}function q(e){e.addEventListener("mousedown",(t=>{if(!t.target.classList.contains("board-card__task-editor")){t.preventDefault();let r=t.clientX-e.offsetLeft,o=t.clientY-e.offsetTop;function s(t,s){e.style.left=t-r+"px",e.style.top=s-o+"px"}function n(e){s(e.clientX,e.clientY)}e.style.zIndex=100,s(t.clientX,t.clientY),document.addEventListener("mousemove",n),document.addEventListener("mouseup",(()=>{C(e),L(e,e.style.left,e.style.top),document.removeEventListener("mousemove",n),e.style.zIndex=0}))}}))}function L(e,t,r){let o=p.find((t=>t.id==e.id));o.left=t,o.top=r,localStorage.savedCards=JSON.stringify(p)}function C(e){let t=window.innerWidth,r=window.innerHeight,o=e.offsetWidth,s=e.offsetHeight;parseInt(e.style.left)<0&&(e.style.left="10px"),parseInt(e.style.top)<0&&(e.style.top="10px"),parseInt(e.style.left)+o>t&&(e.style.left=t-o-10+"px"),parseInt(e.style.top)+s>r-74&&(e.style.top=r-s-74+"px")}window.addEventListener("resize",(()=>{let e=document.querySelectorAll(".board-card");if(0!==e.length)for(let t of e)C(t)})),window.addEventListener("load",(()=>{let e=document.querySelectorAll(".board-card");if(0!==e.length)for(let t of e)C(t)})),setInterval((()=>{let e=o.querySelector(".board__clock"),t=new Date,r=t.getHours(),s=t.getMinutes(),n=t.getSeconds();r<10&&(r=`0${r}`),s<10&&(s=`0${s}`),n<10&&(n=`0${n}`),e.innerHTML=`${r}:${s}:${n}`}),1e3),s.addEventListener("click",(function(){let e=o.querySelectorAll(".board-card");for(let t of e)t.style.transform="scale(0)",setTimeout((()=>t.remove()),300);localStorage.savedCards="",p=[],d=1})),n.addEventListener("click",(function(e){e.preventDefault(),$("new card")}));let E=o.querySelector(".settings-menu"),I=E.querySelector(".settings-menu__button"),O=I.querySelector(".settings-menu__button-image"),T=E.querySelector(".settings-menu__font-size-setting");if(I.addEventListener("click",(function(e){e.preventDefault(),"translateY(-100%)"===E.style.transform?(E.style.transform="translateY(0)",O.style.transform="rotate(180deg)"):(E.style.transform="translateY(-100%)",O.style.transform="rotate(0)")})),T.addEventListener("input",(function(){let e=o.querySelectorAll(".board-card");for(let t of e)t.style.fontSize=T.value+"px";S.cardsFontSize=T.value+"px",localStorage.userSettings=JSON.stringify(S)})),localStorage.userSettings&&(S=JSON.parse(localStorage.userSettings),T.value=parseInt(S.cardsFontSize)),0!==localStorage.savedCards.length){let e=JSON.parse(localStorage.savedCards);for(let t of e)N(t)}function N(e){let t=a.cloneNode(!0),r=t.querySelector(".board-card__header"),s=t.querySelector(".board-card__list"),n=t.querySelector(".board-card__date");p.push(e),t.style.fontSize=S.cardsFontSize,t.id=e.id,d=+e.id+1,r.textContent=e.header,n.textContent=e.date,b(t),e.tasks.forEach(((r,o)=>{let n=l.cloneNode(!0),a=n.querySelector(".board-card__task"),d=n.querySelector(".board-card__circle"),i=r;n.taskId=e.taskIds[o],d.style.fill=e.markers[o],a.textContent=i,k(n,t),w(t,n),x(t,n),s.appendChild(n)})),o.appendChild(t),q(t),t.style.left=e.left,t.style.top=e.top}function $(r,s){function n(t){t.preventDefault();try{if("new card"===r&&0==y.value)throw new h("Заполните все поля!");if(0==c.value)throw new h("Заполните все поля!")}catch(e){return void alert(e.message)}switch(r){case"new card":f.classList.add("hidden"),y.classList.add("hidden"),i.classList.add("hidden"),e.remove(),function(e){let t=a.cloneNode(!0),r=t.querySelector(".board-card__date"),s=t.querySelector(".board-card__header");""!==S.cardsFontSize&&(t.style.fontSize=S.cardsFontSize),t.tasksIdsCounter=1,s.textContent=y.value,y.value="",r.textContent=`Дата: ${function(){let e=new Date,t=e.getDate(),r=e.getMonth()+1;return r<10&&(r=`0${r}`),t<10&&(t=`0${t}`),`${t}.${r}.${e.getFullYear()}`}()}`,t.id=d,d<1e3?d++:d=1,p.push(new m(t)),b(t),_(t),o.appendChild(t),q(t),t.style.left="40%",t.style.top="-300px",setTimeout((()=>{return(e=t).style.transition="all 500ms cubic-bezier(0.500, 0.250, 0.195, 1.650)",e.style.top="300px",void setTimeout((()=>{e.style.transition="transform 0.3s",L(e,e.style.left,e.style.top)}),1e3);var e}),100)}();break;case"new task":i.classList.add("hidden"),e.remove(),_(s)}u.removeEventListener("click",n)}i.classList.remove("hidden"),"new card"===r?(f.classList.remove("hidden"),y.classList.remove("hidden"),y.focus()):c.focus(),function(r){e=document.createElement("div");for(let t in g)e.style[t]=g[t];e.addEventListener("click",(function(){u.removeEventListener("click",n),f.classList.add("hidden"),y.classList.add("hidden"),r.classList.add("hidden"),c.value="",e.remove()})),t.appendChild(e)}(i),u.addEventListener("click",n)}r(952),r(397)})()})();